(this["webpackJsonpreact-hooks-crud"]=this["webpackJsonpreact-hooks-crud"]||[]).push([[0],{29:function(t,e,a){},49:function(t,e,a){"use strict";a.r(e);var c=a(1),s=a(22),n=a.n(s),i=a(6),r=a(2),l=(a(28),a(29),a(7)),o=a(8),d=a(3),j=a(23),b=a.n(j).a.create({baseURL:"https://ticket-manager-nandan.herokuapp.com/api",headers:{"Content-type":"application/json"}}),u={getAll:function(){return b.get("/tasks")},get:function(t){return b.get("/tasks/".concat(t))},create:function(t){return b.post("/tasks",t)},update:function(t,e){return b.put("/tasks/".concat(t),e)},remove:function(t){return b.delete("/tasks/".concat(t))},removeAll:function(){return b.delete("/tasks")},findByTitle:function(t){return b.get("/tasks?title=".concat(t))}},h=a(0),O=function(){var t={id:null,title:"",description:"",startDate:"",endDate:"",priority:"",status:""},e=Object(c.useState)(t),a=Object(d.a)(e,2),s=a[0],n=a[1],i=Object(c.useState)(!1),r=Object(d.a)(i,2),j=r[0],b=r[1],O=function(t){var e=t.target,a=e.name,c=e.value;n(Object(o.a)(Object(o.a)({},s),{},Object(l.a)({},a,c)))};return Object(h.jsx)("div",{className:"submit-form",children:j?Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:"You submitted successfully!"}),Object(h.jsx)("button",{className:"btn btn-success",onClick:function(){n(t),b(!1)},children:"Add"})]}):Object(h.jsxs)("div",{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"title",required:!0,value:s.title,onChange:O,name:"title"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"description",children:"Description"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"description",required:!0,value:s.description,onChange:O,name:"description"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",id:"startDate",required:!0,value:s.startDate,onChange:O,name:"startDate"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",id:"endDate",required:!0,value:s.endDate,onChange:O,name:"endDate"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"priority",children:"Priority"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"priority",required:!0,value:s.priority,onChange:O,name:"priority"})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"status",children:"Status"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"status",required:!0,value:s.status,onChange:O,name:"status"})]}),Object(h.jsx)("button",{onClick:function(){var t={title:s.title,description:s.description,startDate:s.startDate,endDate:s.endDate,priority:s.priority,status:s.status};u.create(t).then((function(t){n({id:t.data.id,title:t.data.title,description:t.data.description,startDate:t.data.startDate,endDate:t.data.endDate,priority:t.data.priority,status:t.data.status}),b(!0),console.log(t.data)})).catch((function(t){console.log(t)}))},className:"btn btn-success",children:"Submit"})]})})},m=function(t){var e=Object(r.g)().id,a=Object(r.f)(),s=Object(c.useState)({id:null,title:"",description:"",startDate:"",endDate:"",priority:"",status:""}),n=Object(d.a)(s,2),i=n[0],j=n[1],b=Object(c.useState)(""),O=Object(d.a)(b,2),m=O[0],x=O[1];Object(c.useEffect)((function(){e&&function(t){u.get(t).then((function(t){j(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))}(e)}),[e]);var p=function(t){var e=t.target,a=e.name,c=e.value;j(Object(o.a)(Object(o.a)({},i),{},Object(l.a)({},a,c)))};return Object(h.jsx)("div",{children:Object(h.jsxs)("div",{className:"edit-form",children:[Object(h.jsx)("h4",{children:"Task"}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"title",children:"Title"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"title",name:"title",value:i.title,onChange:p})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"description",children:"Description"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"description",name:"description",value:i.description,onChange:p})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"startDate",children:"Start Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",id:"startDate",name:"startDate",value:i.startDate,onChange:p})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"endDate",children:"End Date"}),Object(h.jsx)("input",{type:"date",className:"form-control",id:"endDate",name:"endDate",value:i.endDate,onChange:p})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"priority",children:"Priority"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"priority",name:"priority",value:i.priority,onChange:p})]}),Object(h.jsxs)("div",{className:"form-group",children:[Object(h.jsx)("label",{htmlFor:"status",children:"Status"}),Object(h.jsx)("input",{type:"text",className:"form-control",id:"status",name:"status",value:i.status,onChange:p})]})]}),Object(h.jsx)("button",{className:"badge badge-danger mr-2",onClick:function(){u.remove(i._id).then((function(t){console.log(t.data),a("/tasks")})).catch((function(t){console.log(t)}))},children:"Delete"}),Object(h.jsx)("button",{type:"submit",className:"badge badge-success",onClick:function(){u.update(i._id,i).then((function(t){console.log(t.data),x("The task was updated successfully!")})).catch((function(t){console.log(t)}))},children:"Update"}),Object(h.jsx)("p",{children:m})]})})},x=function(){var t=Object(c.useState)([]),e=Object(d.a)(t,2),a=e[0],s=e[1],n=Object(c.useState)(null),r=Object(d.a)(n,2),l=r[0],o=r[1],j=Object(c.useState)(-1),b=Object(d.a)(j,2),O=b[0],m=b[1],x=Object(c.useState)(""),p=Object(d.a)(x,2),f=p[0],v=p[1];Object(c.useEffect)((function(){g()}),[]);var g=function(){u.getAll().then((function(t){s(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))};return Object(h.jsxs)("div",{className:"list row",children:[Object(h.jsx)("div",{className:"col-md-8",children:Object(h.jsxs)("div",{className:"input-group mb-3",children:[Object(h.jsx)("input",{type:"text",className:"form-control",placeholder:"Search by title",value:f,onChange:function(t){var e=t.target.value;v(e)}}),Object(h.jsx)("div",{className:"input-group-append",children:Object(h.jsx)("button",{className:"btn btn-outline-secondary",type:"button",onClick:function(){u.findByTitle(f).then((function(t){s(t.data),console.log(t.data)})).catch((function(t){console.log(t)}))},children:"Search"})})]})}),Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsx)("h4",{children:"Tasks List"}),Object(h.jsx)("ul",{className:"list-group",children:a&&a.map((function(t,e){return Object(h.jsx)("li",{className:"list-group-item "+(e===O?"active":""),onClick:function(){return function(t,e){o(t),m(e)}(t,e)},children:t.title},e)}))})]}),Object(h.jsx)("div",{className:"col-md-6",children:l?Object(h.jsxs)("div",{children:[Object(h.jsx)("h4",{children:"Task"}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:Object(h.jsx)("strong",{children:"Title:"})})," ",l.title]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:Object(h.jsx)("strong",{children:"Description:"})})," ",l.description]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:Object(h.jsx)("strong",{children:"Start Date:"})})," ",l.startDate]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:Object(h.jsx)("strong",{children:"End Date:"})})," ",l.endDate]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:Object(h.jsx)("strong",{children:"Priority:"})})," ",l.priority]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("label",{children:Object(h.jsx)("strong",{children:"Status:"})})," ",l.status]}),Object(h.jsx)(i.b,{to:"/tasks/"+l._id,className:"badge badge-warning",children:"Edit"})]}):Object(h.jsxs)("div",{children:[Object(h.jsx)("br",{}),Object(h.jsx)("p",{children:"Please click on a Task..."})]})})]})};var p=function(){return Object(h.jsxs)("div",{children:[Object(h.jsxs)("nav",{className:"navbar navbar-expand navbar-dark bg-dark",children:[Object(h.jsx)("a",{href:"/tasks",className:"navbar-brand",children:"Task"}),Object(h.jsxs)("div",{className:"navbar-nav mr-auto",children:[Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{to:"/tasks",className:"nav-link",children:"Tasks"})}),Object(h.jsx)("li",{className:"nav-item",children:Object(h.jsx)(i.b,{to:"/add",className:"nav-link",children:"Add"})})]})]}),Object(h.jsx)("div",{className:"container mt-3",children:Object(h.jsxs)(r.c,{children:[Object(h.jsx)(r.a,{path:"/",element:Object(h.jsx)(x,{})}),Object(h.jsx)(r.a,{path:"/tasks",element:Object(h.jsx)(x,{})}),Object(h.jsx)(r.a,{path:"/add",element:Object(h.jsx)(O,{})}),Object(h.jsx)(r.a,{path:"/tasks/:id",element:Object(h.jsx)(m,{})})]})})]})};n.a.render(Object(h.jsx)(i.a,{children:Object(h.jsx)(p,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.0f2eaf8a.chunk.js.map